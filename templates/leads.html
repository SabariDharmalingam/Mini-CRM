<!DOCTYPE html>
<html>
<head>
    <title>CRM Leads</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">

    <style>
        body { background:#f4f6fb; }
        .navbar { background:#0d6efd; }
        .lead-table { background:white; padding:20px; border-radius:12px; }
        .badge-status { padding:5px 10px; color:white; border-radius:6px; }
        .New { background:#0d6efd; }
        .Contacted { background:#ffc107; color:black !important; }
        .Qualified { background:#17a2b8; }
        .Converted { background:#28a745; }
    </style>
</head>

<body>

<nav class="navbar px-4 navbar-dark">
    <span class="navbar-brand">ðŸš€ CRM Leads</span>

    <div>
        <a href="/add" class="btn btn-light">âž• Add Lead</a>
        <a href="/logout" class="btn btn-danger">Logout</a>
    </div>
</nav>

<div class="container mt-4">

    <div class="lead-table shadow">
        <h4>Lead List</h4>

        <table class="table table-hover mt-3">
            <thead>
                <tr>
                    <th>Name</th>
                    <th>Company</th>
                    <th>Email</th>
                    <th>Phone</th>
                    <th>Status</th>
                    <th>Source</th>
                    <th>Industry</th>
                    <th>Deal Value</th>
                    <th>Actions</th>
                </tr>
            </thead>

            <tbody>
                {% for lead in leads %}
                <tr>
                    <td>{{ lead.first_name }} {{ lead.last_name }}</td>
                    <td>{{ lead.company }}</td>
                    <td>{{ lead.email }}</td>
                    <td>{{ lead.phone }}</td>

                    <td><span class="badge-status {{ lead.lead_status }}">{{ lead.lead_status }}</span></td>

                    <td>{{ lead.lead_source }}</td>
                    <td>{{ lead.industry }}</td>
                    <td>â‚¹{{ lead.deal_value }}</td>

                    <td>
                        <a href="/edit/{{ lead.id }}" class="btn btn-sm btn-warning">Edit</a>
                        <a href="/delete/{{ lead.id }}" class="btn btn-sm btn-danger"
                           onclick="return confirm('Delete this lead?')">Delete</a>
                    </td>
                </tr>
                {% endfor %}
            </tbody>
        </table>

    </div>

</div>
</body>
</html>
